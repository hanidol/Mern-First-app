{"ast":null,"code":"import{Link}from'react-router-dom';import{connect}from'react-redux';import React from\"react\";import{addLike,removeLike,deletePost}from'../../actions/post';import formatDate from'../../utils/formatDate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,file=_ref$post.file,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/_jsxs(\"div\",{className:\"post bg-white my-1 p-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"Github DP instead of Gravatar\",className:\"round-img\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:text}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-date\",children:[\"Posted on \",formatDate(date)]}),showActions&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){return addLike(_id);},type:\"button\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return removeLike(_id);},type:\"button\",className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\",children:[\"Discussion\",' ',comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deletePost(_id);},type:\"button\",className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]})]});};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"names":["Link","connect","React","addLike","removeLike","deletePost","formatDate","PostItem","auth","post","_id","text","file","name","avatar","user","likes","comments","date","showActions","e","length","loading","defaultProps","mapStateToProps","state"],"sources":["/Users/haninasri/Desktop/FulStuck/First-App/app/client/src/components/posts/PostItem.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport React from \"react\"\n\n\nimport { addLike, removeLike, deletePost } from '../../actions/post';\nimport formatDate from '../../utils/formatDate';\n\nconst PostItem = ({\n  addLike,\n  removeLike,\n  deletePost,\n  auth,\n  post: { _id, text,file, name, avatar, user, likes, comments, date },\n  showActions,\n}) => (\n  <div className='post bg-white my-1 p-1'>\n    <div>\n      <Link to={`/profile/${user}`}>\n        <img\n          src={avatar}\n          alt='Github DP instead of Gravatar'\n          className='round-img'\n        />\n\n        <h4>{name}</h4>\n      </Link>\n    </div>\n\n    <div>\n      <p className='my-1'>{text}</p>\n\n      <p className='post-date'>Posted on {formatDate(date)}</p>\n\n      {showActions && (\n        <>\n          <button\n            onClick={(e) => addLike(_id)}\n            type='button'\n            className='btn btn-light'\n          >\n            <i className='fas fa-thumbs-up' />{' '}\n            <span>{likes.length > 0 && <span>{likes.length}</span>}</span>\n          </button>\n\n          <button\n            onClick={(e) => removeLike(_id)}\n            type='button'\n            className='btn btn-light'\n          >\n            <i className='fas fa-thumbs-down' />\n          </button>\n\n          <Link to={`/posts/${_id}`} className='btn btn-primary'>\n            Discussion{' '}\n            {comments.length > 0 && (\n              <span className='comment-count'>{comments.length}</span>\n            )}\n          </Link>\n\n          {!auth.loading && user === auth.user._id && (\n            <button\n              onClick={(e) => deletePost(_id)}\n              type='button'\n              className='btn btn-danger'\n            >\n              <i className='fas fa-times' />\n            </button>\n          )}\n        </>\n      )}\n    </div>\n  </div>\n);\n\nPostItem.defaultProps = {\n  showActions: true,\n};\n\nPostItem.propTypes = {\n  post: PropTypes.object.isRequired,\n  auth: PropTypes.object.isRequired,\n  addLike: PropTypes.func.isRequired,\n  removeLike: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({ auth: state.auth });\n\nexport default connect(mapStateToProps, { addLike, removeLike, deletePost })(\n  PostItem\n);\n"],"mappings":"AACA,OAASA,IAAI,KAAQ,kBAAkB,CACvC,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAOC,MAAK,KAAM,OAAO,CAGzB,OAASC,OAAO,CAAEC,UAAU,CAAEC,UAAU,KAAQ,oBAAoB,CACpE,MAAOC,WAAU,KAAM,wBAAwB,CAAC,6IAEhD,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,UACZJ,QAAO,MAAPA,OAAO,CACPC,UAAU,MAAVA,UAAU,CACVC,UAAU,MAAVA,UAAU,CACVG,IAAI,MAAJA,IAAI,gBACJC,IAAI,CAAIC,GAAG,WAAHA,GAAG,CAAEC,IAAI,WAAJA,IAAI,CAACC,IAAI,WAAJA,IAAI,CAAEC,IAAI,WAAJA,IAAI,CAAEC,MAAM,WAANA,MAAM,CAAEC,IAAI,WAAJA,IAAI,CAAEC,KAAK,WAALA,KAAK,CAAEC,QAAQ,WAARA,QAAQ,CAAEC,IAAI,WAAJA,IAAI,CACjEC,WAAW,MAAXA,WAAW,oBAEX,aAAK,SAAS,CAAC,wBAAwB,wBACrC,kCACE,MAAC,IAAI,EAAC,EAAE,oBAAcJ,IAAI,CAAG,wBAC3B,YACE,GAAG,CAAED,MAAO,CACZ,GAAG,CAAC,+BAA+B,CACnC,SAAS,CAAC,WAAW,EACrB,cAEF,oBAAKD,IAAI,EAAM,GACV,EACH,cAEN,oCACE,UAAG,SAAS,CAAC,MAAM,UAAEF,IAAI,EAAK,cAE9B,WAAG,SAAS,CAAC,WAAW,wBAAYL,UAAU,CAACY,IAAI,CAAC,GAAK,CAExDC,WAAW,eACV,wCACE,gBACE,OAAO,CAAE,iBAACC,CAAC,QAAKjB,QAAO,CAACO,GAAG,CAAC,EAAC,CAC7B,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,eAAe,wBAEzB,UAAG,SAAS,CAAC,kBAAkB,EAAG,CAAC,GAAG,cACtC,sBAAOM,KAAK,CAACK,MAAM,CAAG,CAAC,eAAI,sBAAOL,KAAK,CAACK,MAAM,EAAQ,EAAQ,GACvD,cAET,eACE,OAAO,CAAE,iBAACD,CAAC,QAAKhB,WAAU,CAACM,GAAG,CAAC,EAAC,CAChC,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,eAAe,uBAEzB,UAAG,SAAS,CAAC,oBAAoB,EAAG,EAC7B,cAET,MAAC,IAAI,EAAC,EAAE,kBAAYA,GAAG,CAAG,CAAC,SAAS,CAAC,iBAAiB,wBACzC,GAAG,CACbO,QAAQ,CAACI,MAAM,CAAG,CAAC,eAClB,aAAM,SAAS,CAAC,eAAe,UAAEJ,QAAQ,CAACI,MAAM,EACjD,GACI,CAEN,CAACb,IAAI,CAACc,OAAO,EAAIP,IAAI,GAAKP,IAAI,CAACO,IAAI,CAACL,GAAG,eACtC,eACE,OAAO,CAAE,iBAACU,CAAC,QAAKf,WAAU,CAACK,GAAG,CAAC,EAAC,CAChC,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,gBAAgB,uBAE1B,UAAG,SAAS,CAAC,cAAc,EAAG,EAEjC,GAEJ,GACG,GACF,EACP,CAEDH,QAAQ,CAACgB,YAAY,CAAG,CACtBJ,WAAW,CAAE,IACf,CAAC,CAUD,GAAMK,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,KAAK,QAAM,CAAEjB,IAAI,CAAEiB,KAAK,CAACjB,IAAK,CAAC,EAAC,CAEzD,cAAeP,QAAO,CAACuB,eAAe,CAAE,CAAErB,OAAO,CAAPA,OAAO,CAAEC,UAAU,CAAVA,UAAU,CAAEC,UAAU,CAAVA,UAAW,CAAC,CAAC,CAC1EE,QAAQ,CACT"},"metadata":{},"sourceType":"module","externalDependencies":[]}