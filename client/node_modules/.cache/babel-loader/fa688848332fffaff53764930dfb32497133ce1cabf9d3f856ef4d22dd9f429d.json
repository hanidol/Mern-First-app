{"ast":null,"code":"var _jsxFileName = \"/Users/haninasri/Desktop/FulStuck/First-App/client/src/pages/Register/index.js\";\nimport React from \"react\";\nimport Joi from \"@hapi/joi\";\nimport Input from \"../../components/common/Input\";\nimport { connect } from \"react-redux\";\nimport { signUp } from \"../../actions/authAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass RegisterForm extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      data: {\n        email: \"\",\n        password: \"\",\n        passwordRepeat: \"\"\n      },\n      errors: {},\n      passwordError: \"\"\n    };\n    this.validateProperty = input => {\n      const {\n        name,\n        value\n      } = input;\n      const obj = {\n        [name]: value\n      };\n      const schema = {\n        [name]: this.schema[name]\n      };\n      const {\n        error\n      } = Joi.validate(obj, schema);\n      return error ? error.details[0].message : null;\n    };\n    this.handleChange = _ref => {\n      let {\n        currentTarget: input\n      } = _ref;\n      const errors = {\n        ...this.state.errors\n      };\n      const errorMessage = this.validateProperty(input);\n      if (errorMessage) errors[input.name] = errorMessage;else delete errors[input.name];\n      const data = {\n        ...this.state.data\n      };\n      data[input.name] = input.value;\n      this.setState({\n        data,\n        errors\n      });\n    };\n    this.validate = () => {\n      const options = {\n        abortEarly: false\n      };\n      const result = Joi.validate(this.state.data, this.schema, options);\n      if (!result.error) return null;\n      const errors = {};\n      result.error.details.forEach(element => errors[element.path[0]] = element.message);\n      return errors;\n    };\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        password,\n        passwordRepeat,\n        email\n      } = this.state.data;\n      if (password !== passwordRepeat) this.setState({\n        passwordError: \"The passwords doesn not match.\"\n      });else this.props.signUp({\n        email,\n        password\n      });\n    };\n    this.schema = {\n      email: Joi.string().email().required().label(\"Email\"),\n      password: Joi.string().min(8).required().label(\"Password\"),\n      passwordRepeat: Joi.string().required().label(\"Repear Password\")\n    };\n  }\n  render() {\n    const {\n      authMessage,\n      loggedIn\n    } = this.props;\n    const {\n      errors,\n      passwordError\n    } = this.state;\n    const {\n      email,\n      password,\n      passwordRepeat\n    } = this.state.data;\n    if (loggedIn) this.props.history.push(\"/\");\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background-container pt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"header\",\n          children: \"Register Form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            name: \"email\",\n            label: \"Email\",\n            type: \"email\",\n            error: errors[\"email\"],\n            iconClass: \"fas fa-envelope\",\n            onChange: this.handleChange,\n            placeholder: \"Please enter your email...\",\n            value: email,\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            error: errors[\"password\"],\n            iconClass: \"fas fa-key\",\n            onChange: this.handleChange,\n            placeholder: \"Please enter your password...\",\n            value: password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"passwordRepeat\",\n            type: \"password\",\n            label: \"Repeat Password\",\n            error: errors[\"passwordRepeat\"],\n            iconClass: \"fas fa-key\",\n            onChange: this.handleChange,\n            placeholder: \"Repeat your password...\",\n            value: passwordRepeat\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), authMessage || passwordError ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"bg-info text-white\",\n            children: [\" \", authMessage, \" \", passwordError]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: \" \"\n          }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn special-btn\",\n            disabled: this.validate(),\n            children: [\" \", \"Sign Up\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    loggedIn: state.auth.loggedIn,\n    authMessage: state.auth.authMessage\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    signUp: creds => dispatch(signUp(creds))\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterForm);","map":{"version":3,"names":["React","Joi","Input","connect","signUp","RegisterForm","Component","state","data","email","password","passwordRepeat","errors","passwordError","validateProperty","input","name","value","obj","schema","error","validate","details","message","handleChange","currentTarget","errorMessage","setState","options","abortEarly","result","forEach","element","path","handleSubmit","e","preventDefault","props","string","required","label","min","render","authMessage","loggedIn","history","push","mapStateToProps","auth","mapDispatchToProps","dispatch","creds"],"sources":["/Users/haninasri/Desktop/FulStuck/First-App/client/src/pages/Register/index.js"],"sourcesContent":["import React from \"react\";\nimport Joi from \"@hapi/joi\";\nimport Input from \"../../components/common/Input\";\nimport { connect } from \"react-redux\";\nimport { signUp } from \"../../actions/authAction\";\n\nclass RegisterForm extends React.Component {\n  state = {\n    data: {\n      email: \"\",\n      password: \"\",\n      passwordRepeat: \"\",\n    },\n    errors: {},\n    passwordError: \"\",\n  };\n\n  validateProperty = (input) => {\n    const { name, value } = input;\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n    return error ? error.details[0].message : null;\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const errorMessage = this.validateProperty(input);\n\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n    this.setState({ data, errors });\n  };\n\n  validate = () => {\n    const options = { abortEarly: false };\n    const result = Joi.validate(this.state.data, this.schema, options);\n    if (!result.error) return null;\n\n    const errors = {};\n    result.error.details.forEach(\n      (element) => (errors[element.path[0]] = element.message)\n    );\n    return errors;\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { password, passwordRepeat, email } = this.state.data;\n    if (password !== passwordRepeat)\n      this.setState({ passwordError: \"The passwords doesn not match.\" });\n    else this.props.signUp({ email, password });\n  };\n\n  schema = {\n    email: Joi.string().email().required().label(\"Email\"),\n    password: Joi.string().min(8).required().label(\"Password\"),\n    passwordRepeat: Joi.string().required().label(\"Repear Password\"),\n  };\n  render() {\n    const { authMessage, loggedIn } = this.props;\n    const { errors, passwordError } = this.state;\n    const { email, password, passwordRepeat } = this.state.data;\n    if (loggedIn) this.props.history.push(\"/\");\n\n    return (\n      <div className=\"background-container pt-5\">\n        <div className=\"container\">\n          <h1 className=\"header\">Register Form</h1>\n          <form onSubmit={this.handleSubmit}>\n            <Input\n              name=\"email\"\n              label=\"Email\"\n              type=\"email\"\n              error={errors[\"email\"]}\n              iconClass=\"fas fa-envelope\"\n              onChange={this.handleChange}\n              placeholder=\"Please enter your email...\"\n              value={email}\n              autoFocus\n            />\n            <Input\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              error={errors[\"password\"]}\n              iconClass=\"fas fa-key\"\n              onChange={this.handleChange}\n              placeholder=\"Please enter your password...\"\n              value={password}\n            />\n            <Input\n              name=\"passwordRepeat\"\n              type=\"password\"\n              label=\"Repeat Password\"\n              error={errors[\"passwordRepeat\"]}\n              iconClass=\"fas fa-key\"\n              onChange={this.handleChange}\n              placeholder=\"Repeat your password...\"\n              value={passwordRepeat}\n            />\n            {authMessage || passwordError ? (\n              <p className=\"bg-info text-white\">\n                {\" \"}\n                {authMessage} {passwordError}\n              </p>\n            ) : (\n              <> </>\n            )}\n            <button\n              type=\"submit\"\n              className=\"btn special-btn\"\n              disabled={this.validate()}\n            >\n              {\" \"}\n              Sign Up{\" \"}\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    loggedIn: state.auth.loggedIn,\n    authMessage: state.auth.authMessage,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    signUp: (creds) => dispatch(signUp(creds)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterForm);\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,KAAK,MAAM,+BAA+B;AACjD,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,MAAM,QAAQ,0BAA0B;AAAC;AAAA;AAElD,MAAMC,YAAY,SAASL,KAAK,CAACM,SAAS,CAAC;EAAA;IAAA;IAAA,KACzCC,KAAK,GAAG;MACNC,IAAI,EAAE;QACJC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,cAAc,EAAE;MAClB,CAAC;MACDC,MAAM,EAAE,CAAC,CAAC;MACVC,aAAa,EAAE;IACjB,CAAC;IAAA,KAEDC,gBAAgB,GAAIC,KAAK,IAAK;MAC5B,MAAM;QAAEC,IAAI;QAAEC;MAAM,CAAC,GAAGF,KAAK;MAC7B,MAAMG,GAAG,GAAG;QAAE,CAACF,IAAI,GAAGC;MAAM,CAAC;MAC7B,MAAME,MAAM,GAAG;QAAE,CAACH,IAAI,GAAG,IAAI,CAACG,MAAM,CAACH,IAAI;MAAE,CAAC;MAC5C,MAAM;QAAEI;MAAM,CAAC,GAAGnB,GAAG,CAACoB,QAAQ,CAACH,GAAG,EAAEC,MAAM,CAAC;MAC3C,OAAOC,KAAK,GAAGA,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,GAAG,IAAI;IAChD,CAAC;IAAA,KAEDC,YAAY,GAAG,QAA8B;MAAA,IAA7B;QAAEC,aAAa,EAAEV;MAAM,CAAC;MACtC,MAAMH,MAAM,GAAG;QAAE,GAAG,IAAI,CAACL,KAAK,CAACK;MAAO,CAAC;MACvC,MAAMc,YAAY,GAAG,IAAI,CAACZ,gBAAgB,CAACC,KAAK,CAAC;MAEjD,IAAIW,YAAY,EAAEd,MAAM,CAACG,KAAK,CAACC,IAAI,CAAC,GAAGU,YAAY,CAAC,KAC/C,OAAOd,MAAM,CAACG,KAAK,CAACC,IAAI,CAAC;MAE9B,MAAMR,IAAI,GAAG;QAAE,GAAG,IAAI,CAACD,KAAK,CAACC;MAAK,CAAC;MACnCA,IAAI,CAACO,KAAK,CAACC,IAAI,CAAC,GAAGD,KAAK,CAACE,KAAK;MAC9B,IAAI,CAACU,QAAQ,CAAC;QAAEnB,IAAI;QAAEI;MAAO,CAAC,CAAC;IACjC,CAAC;IAAA,KAEDS,QAAQ,GAAG,MAAM;MACf,MAAMO,OAAO,GAAG;QAAEC,UAAU,EAAE;MAAM,CAAC;MACrC,MAAMC,MAAM,GAAG7B,GAAG,CAACoB,QAAQ,CAAC,IAAI,CAACd,KAAK,CAACC,IAAI,EAAE,IAAI,CAACW,MAAM,EAAES,OAAO,CAAC;MAClE,IAAI,CAACE,MAAM,CAACV,KAAK,EAAE,OAAO,IAAI;MAE9B,MAAMR,MAAM,GAAG,CAAC,CAAC;MACjBkB,MAAM,CAACV,KAAK,CAACE,OAAO,CAACS,OAAO,CACzBC,OAAO,IAAMpB,MAAM,CAACoB,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAGD,OAAO,CAACT,OAAQ,CACzD;MACD,OAAOX,MAAM;IACf,CAAC;IAAA,KACDsB,YAAY,GAAIC,CAAC,IAAK;MACpBA,CAAC,CAACC,cAAc,EAAE;MAClB,MAAM;QAAE1B,QAAQ;QAAEC,cAAc;QAAEF;MAAM,CAAC,GAAG,IAAI,CAACF,KAAK,CAACC,IAAI;MAC3D,IAAIE,QAAQ,KAAKC,cAAc,EAC7B,IAAI,CAACgB,QAAQ,CAAC;QAAEd,aAAa,EAAE;MAAiC,CAAC,CAAC,CAAC,KAChE,IAAI,CAACwB,KAAK,CAACjC,MAAM,CAAC;QAAEK,KAAK;QAAEC;MAAS,CAAC,CAAC;IAC7C,CAAC;IAAA,KAEDS,MAAM,GAAG;MACPV,KAAK,EAAER,GAAG,CAACqC,MAAM,EAAE,CAAC7B,KAAK,EAAE,CAAC8B,QAAQ,EAAE,CAACC,KAAK,CAAC,OAAO,CAAC;MACrD9B,QAAQ,EAAET,GAAG,CAACqC,MAAM,EAAE,CAACG,GAAG,CAAC,CAAC,CAAC,CAACF,QAAQ,EAAE,CAACC,KAAK,CAAC,UAAU,CAAC;MAC1D7B,cAAc,EAAEV,GAAG,CAACqC,MAAM,EAAE,CAACC,QAAQ,EAAE,CAACC,KAAK,CAAC,iBAAiB;IACjE,CAAC;EAAA;EACDE,MAAM,GAAG;IACP,MAAM;MAAEC,WAAW;MAAEC;IAAS,CAAC,GAAG,IAAI,CAACP,KAAK;IAC5C,MAAM;MAAEzB,MAAM;MAAEC;IAAc,CAAC,GAAG,IAAI,CAACN,KAAK;IAC5C,MAAM;MAAEE,KAAK;MAAEC,QAAQ;MAAEC;IAAe,CAAC,GAAG,IAAI,CAACJ,KAAK,CAACC,IAAI;IAC3D,IAAIoC,QAAQ,EAAE,IAAI,CAACP,KAAK,CAACQ,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IAE1C,oBACE;MAAK,SAAS,EAAC,2BAA2B;MAAA,uBACxC;QAAK,SAAS,EAAC,WAAW;QAAA,wBACxB;UAAI,SAAS,EAAC,QAAQ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAmB,eACzC;UAAM,QAAQ,EAAE,IAAI,CAACZ,YAAa;UAAA,wBAChC,QAAC,KAAK;YACJ,IAAI,EAAC,OAAO;YACZ,KAAK,EAAC,OAAO;YACb,IAAI,EAAC,OAAO;YACZ,KAAK,EAAEtB,MAAM,CAAC,OAAO,CAAE;YACvB,SAAS,EAAC,iBAAiB;YAC3B,QAAQ,EAAE,IAAI,CAACY,YAAa;YAC5B,WAAW,EAAC,4BAA4B;YACxC,KAAK,EAAEf,KAAM;YACb,SAAS;UAAA;YAAA;YAAA;YAAA;UAAA,QACT,eACF,QAAC,KAAK;YACJ,IAAI,EAAC,UAAU;YACf,KAAK,EAAC,UAAU;YAChB,IAAI,EAAC,UAAU;YACf,KAAK,EAAEG,MAAM,CAAC,UAAU,CAAE;YAC1B,SAAS,EAAC,YAAY;YACtB,QAAQ,EAAE,IAAI,CAACY,YAAa;YAC5B,WAAW,EAAC,+BAA+B;YAC3C,KAAK,EAAEd;UAAS;YAAA;YAAA;YAAA;UAAA,QAChB,eACF,QAAC,KAAK;YACJ,IAAI,EAAC,gBAAgB;YACrB,IAAI,EAAC,UAAU;YACf,KAAK,EAAC,iBAAiB;YACvB,KAAK,EAAEE,MAAM,CAAC,gBAAgB,CAAE;YAChC,SAAS,EAAC,YAAY;YACtB,QAAQ,EAAE,IAAI,CAACY,YAAa;YAC5B,WAAW,EAAC,yBAAyB;YACrC,KAAK,EAAEb;UAAe;YAAA;YAAA;YAAA;UAAA,QACtB,EACDgC,WAAW,IAAI9B,aAAa,gBAC3B;YAAG,SAAS,EAAC,oBAAoB;YAAA,WAC9B,GAAG,EACH8B,WAAW,OAAG9B,aAAa;UAAA;YAAA;YAAA;YAAA;UAAA,QAC1B,gBAEJ;YAAA;UAAA,iBACD,eACD;YACE,IAAI,EAAC,QAAQ;YACb,SAAS,EAAC,iBAAiB;YAC3B,QAAQ,EAAE,IAAI,CAACQ,QAAQ,EAAG;YAAA,WAEzB,GAAG,aACI,GAAG;UAAA;YAAA;YAAA;YAAA;UAAA,QACJ;QAAA;UAAA;UAAA;UAAA;QAAA,QACJ;MAAA;QAAA;QAAA;QAAA;MAAA;IACH;MAAA;MAAA;MAAA;IAAA,QACF;EAEV;AACF;AACA,MAAM0B,eAAe,GAAIxC,KAAK,IAAK;EACjC,OAAO;IACLqC,QAAQ,EAAErC,KAAK,CAACyC,IAAI,CAACJ,QAAQ;IAC7BD,WAAW,EAAEpC,KAAK,CAACyC,IAAI,CAACL;EAC1B,CAAC;AACH,CAAC;AACD,MAAMM,kBAAkB,GAAIC,QAAQ,IAAK;EACvC,OAAO;IACL9C,MAAM,EAAG+C,KAAK,IAAKD,QAAQ,CAAC9C,MAAM,CAAC+C,KAAK,CAAC;EAC3C,CAAC;AACH,CAAC;AAED,eAAehD,OAAO,CAAC4C,eAAe,EAAEE,kBAAkB,CAAC,CAAC5C,YAAY,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}