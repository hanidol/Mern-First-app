{"ast":null,"code":"import _objectSpread from \"/Users/haninasri/Desktop/FulStuck/First-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/haninasri/Desktop/FulStuck/First-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/haninasri/Desktop/FulStuck/First-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/haninasri/Desktop/FulStuck/First-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/haninasri/Desktop/FulStuck/First-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/haninasri/Desktop/FulStuck/First-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/haninasri/Desktop/FulStuck/First-App/client/src/pages/AddPatient/index.js\";\nimport React from \"react\";\nimport Joi from \"@hapi/joi\";\nimport { connect } from \"react-redux\";\nimport Input from \"../../components/common/Input\";\nimport Select from \"../../components/common/Select\";\nimport { addPatient as _addPatient } from \"../../actions/patientsAction\";\nimport { patientSchema } from \"./schema\";\nvar AddPatientForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(AddPatientForm, _React$Component);\n  function AddPatientForm() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, AddPatientForm);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddPatientForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {\n        name: \"\",\n        genre: \"\",\n        mail: \"\",\n        numberphone: \"\",\n        description: \"\",\n        image: null\n      },\n      genres: [],\n      errors: {}\n    };\n    _this.handleChange = function (_ref) {\n      var input = _ref.currentTarget;\n      var data = _objectSpread({}, _this.state.data);\n      data[input.name] = input.value;\n      _this.setState({\n        data: data\n      });\n    };\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      //TODO: Validate property\n      var _Joi$validate = Joi.validate(_this.state, patientSchema),\n        error = _Joi$validate.error;\n      _this.setState({\n        errors: error\n      });\n      if (!error) _this.props.addMovie(_this.state.data);\n    };\n    _this.uploadImage = function (e) {\n      if (e.target.files[0]) {\n        var data = _objectSpread({}, _this.state.data);\n        data.image = e.target.files[0];\n        _this.setState({\n          data: data\n        });\n      }\n    };\n    return _this;\n  }\n  _createClass(AddPatientForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        errors = _this$state.errors,\n        data = _this$state.data;\n      var name = data.name,\n        genre = data.genre,\n        numberphone = data.numberphone,\n        mail = data.mail;\n      var genres = this.props.genres;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"background-container pt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }\n      }, \"Add a new Patient\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        encType: \"multipart/form-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        name: \"name\",\n        value: name,\n        label: \"Name\",\n        onChange: this.handleChange,\n        placeholder: \"Enter the name...\",\n        error: errors[\"name\"],\n        iconClass: \"fas fa-film\",\n        autoFocus: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Select, {\n        name: \"genre\",\n        label: \"Genre\",\n        onChange: this.handleChange,\n        value: genre,\n        error: errors[\"genre\"],\n        options: genres,\n        iconClass: \"fas fa-address-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        name: \"email\",\n        value: mail,\n        label: \"Email\",\n        onChange: this.handleChange,\n        placeholder: \"Enter the email...\",\n        error: errors[\"mail\"],\n        iconClass: \"fas fa-film\",\n        autoFocus: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        name: \"numberphone\",\n        label: \"Number Phone\",\n        onChange: this.handleChange,\n        placeholder: \"Enter  your numbers ...\",\n        error: errors[\"numberphone\"],\n        iconClass: \"fas fa-hashtag\",\n        value: numberphone,\n        type: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        name: \"image\",\n        label: \"Cover Image\",\n        onChange: this.uploadImage,\n        error: errors[\"coverImage\"],\n        iconClass: \"fas fa-file-image\",\n        accept: \"image/*\",\n        type: \"file\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        name: \"description\",\n        label: \"Description\",\n        placeholder: \"Enter description about this movie...\",\n        iconClass: \"fas fa-info\",\n        error: errors[\"description\"],\n        type: \"textarea\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n  return AddPatientForm;\n}(React.Component);\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addPatient: function addPatient(patient) {\n      return dispatch(_addPatient(patient));\n    }\n  };\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    genres: state.genre.genres\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AddPatientForm);","map":{"version":3,"names":["React","Joi","connect","Input","Select","addPatient","patientSchema","AddPatientForm","state","data","name","genre","mail","numberphone","description","image","genres","errors","handleChange","input","currentTarget","value","setState","handleSubmit","e","preventDefault","validate","error","props","addMovie","uploadImage","target","files","Component","mapDispatchToProps","dispatch","patient","mapStateToProps"],"sources":["/Users/haninasri/Desktop/FulStuck/First-App/client/src/pages/AddPatient/index.js"],"sourcesContent":["import React from \"react\";\nimport Joi from \"@hapi/joi\";\nimport { connect } from \"react-redux\";\n\nimport Input from \"../../components/common/Input\";\nimport Select from \"../../components/common/Select\";\nimport { addPatient } from \"../../actions/patientsAction\";\nimport { patientSchema } from \"./schema\";\n\nclass AddPatientForm extends React.Component {\n  state = {\n    data: {\n      name: \"\",\n      genre: \"\",\n      mail: \"\",\n      numberphone: \"\",\n      description: \"\",\n      image: null,\n    },\n    genres: [],\n    errors: {},\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n    this.setState({ data });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    //TODO: Validate property\n    const { error } = Joi.validate(this.state, patientSchema);\n    this.setState({ errors: error });\n    if (!error) this.props.addMovie(this.state.data);\n  };\n\n  uploadImage = (e) => {\n    if (e.target.files[0]) {\n      const data = { ...this.state.data };\n      data.image = e.target.files[0];\n      this.setState({ data });\n    }\n  };\n\n  render() {\n    const { errors, data } = this.state;\n    const { name, genre, numberphone, mail } = data;\n    const { genres } = this.props;\n\n    return (\n      <div className=\"background-container pt-5\">\n        <div className=\"container\">\n          <h1 className=\"header\">Add a new Patient</h1>\n\n          <form onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\n            <Input\n              name=\"name\"\n              value={name}\n              label=\"Name\"\n              onChange={this.handleChange}\n              placeholder=\"Enter the name...\"\n              error={errors[\"name\"]}\n              iconClass=\"fas fa-film\"\n              autoFocus\n            />\n\n            <Select\n              name=\"genre\"\n              label=\"Genre\"\n              onChange={this.handleChange}\n              value={genre}\n              error={errors[\"genre\"]}\n              options={genres}\n              iconClass=\"fas fa-address-card\"\n            />\n            <Input\n              name=\"email\"\n              value={mail}\n              label=\"Email\"\n              onChange={this.handleChange}\n              placeholder=\"Enter the email...\"\n              error={errors[\"mail\"]}\n              iconClass=\"fas fa-film\"\n              autoFocus\n            />\n\n            <Input\n              name=\"numberphone\"\n              label=\"Number Phone\"\n              onChange={this.handleChange}\n              placeholder=\"Enter  your numbers ...\"\n              error={errors[\"numberphone\"]}\n              iconClass=\"fas fa-hashtag\"\n              value={numberphone}\n              type=\"number\"\n            />\n\n            <Input\n              name=\"image\"\n              label=\"Cover Image\"\n              onChange={this.uploadImage}\n              error={errors[\"coverImage\"]}\n              iconClass=\"fas fa-file-image\"\n              accept=\"image/*\"\n              type=\"file\"\n            />\n\n            <Input\n              name=\"description\"\n              label=\"Description\"\n              placeholder=\"Enter description about this movie...\"\n              iconClass=\"fas fa-info\"\n              error={errors[\"description\"]}\n              type=\"textarea\"\n            />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addPatient: (patient) => dispatch(addPatient(patient)),\n  };\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    genres: state.genre.genres,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddPatientForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}